<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>Provo Canyon Webcams</title>
		<meta name = 'viewport' content = 'width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=2.0'>
		<meta property="og:image" content="http://provocanyon.scarynet.com/traf-cams-poster.jpg"/>
        <meta property="og:url" content="http://provocanyon.scarynet.com/"/>
        <meta property="og:title" content="Provo Canyon Webcams"/>
        <meta property="og:description" content="View all the UDOT webcams in Provo canyon on a single page. Includes all the cams on UT 189, the webcam on American Fork Canyon at the switchback and the cams at the top of Arrowhead at the Sundance Resport."/>
		<style>
			img { width: 310px; }
            #zoomer img { width: auto; }
			body { padding: 2px; margin: 0; }
            h4 { margin: 4px 0; }
            .section { display: inline-block; vertical-align: top; }
            .wrapper { display: inline-block; }
            #closer {
                background: transparent url("close.png") no-repeat;
                background-size: contain;
                position: absolute;
                top: -6px;
                right: -6px;
                width: 32px;
                height: 32px;
            }
		</style>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
	</head>
	<body>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            document.location.host.search('scarynest') ?
                ga('create', 'UA-45948696-2', 'scarynet.com') :
                ga('create', 'UA-45948696-3', 'scalora.net');
            ga('send', 'pageview');
        </script>
        <script>$('body').on('error','img',function(){console.log('error!');$(this).attr('src','broken.jpg');});</script>
		<div style='font-size: 120%; font-weight: bold; text-align: center;'>Provo Canyon Webcams</div>
		<div style='text-align:center;'>
                <div class="section">
                    <h4>The Mouth of Provo Canyon</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux14310.jpeg"/>
                </div>
                <div class="section">
                    <h4>Lower Diversion Dam</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux15040.jpeg"/>
                </div>
                <div class="section">
                    <h4>Canyon Glen Park</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux15041.jpeg"/>
                </div>
                <div class="section">
                    <h4>Milepost 11</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux15042.jpeg"/>
                </div>
                <div class="section">
                    <h4>Milepost 12</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux15043.jpeg"/>
                </div>
                <div class="section">
                    <h4>Vivian Park</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux15044.jpeg"/>
                </div>
                <div class="section">
                    <h4>Sundance Turnoff</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux15045.jpeg"/>
                </div>
                <div class="section">
                    <h4>Milepost 16</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux15047.jpeg"/>
                </div>
                <div class="section">
                    <h4>Milepost 17</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux15048.jpeg"/>
                </div>
                <div class="section">
                    <h4>Deer Creek Dam</h4>
                    <img src="http://commuterlink.utah.gov/1_devices/aux15108.jpeg"/>
                </div>
			<hr/>
            <div>
                <h4>AF Canyon</h4>
                <img src="http://commuterlink.utah.gov/1_devices/aux15662.jpeg"/>
            </div>
            <hr/>
            <div class="sundance zoomable">
                <h4>From Sundance/Arrowhead</h4>
                <div class="wrapper">
                    <img src="ftp://ftp.commuterlink.utah.gov/rwis/0055_Arrowhead_DeerCreekView.JPG"/>
                </div>
                <div class="wrapper">
                    <img src="ftp://ftp.commuterlink.utah.gov/rwis/0055_Arrowhead_SWView.JPG"/>
                </div>
                <div class="wrapper">
                    <img src="ftp://ftp.commuterlink.utah.gov/rwis/0055_Arrowhead_Road.JPG"/>
                </div>
                <div class="wrapper">
                    <img src="ftp://ftp.commuterlink.utah.gov/rwis/0055_Arrowhead_BridalVeil.JPG"/>
                </div>
                <div class="wrapper">
                    <img src="ftp://ftp.commuterlink.utah.gov/rwis/0055_Arrowhead_CottonwoodsNorth.JPG"/>
                </div>
                <div class="wrapper">
                    <img src="ftp://ftp.commuterlink.utah.gov/rwis/0055_Arrowhead_Fingers.JPG"/>
                </div>
            </div>
		</div>
        <div id="long-description" style="max-width: 95%;">
            Webcams in Provo Canyon near Orem and Provo. Webcams at Sundance Resort at the top of Arrowhead lift.
            Webcams along UT 189 in Provo Canyon and along the Sandance road over the Alpine Loop to American Fork Canyon.
        </div>
	</body>
<script>

//    $('.zoomable img').on('click',function(){
//        var wasMe = $(this).hasClass('zoomed');
//        $('.zoomed').removeClass('zoomed').css('zoom',1);
//        if (wasMe) return false;
//        $(this).addClass('zoomed').css('zoom',2);
//    });

    function repositionZoomer(zoomer) {
        if (zoomer.length==0) return;
        var nW = zoomer.data('w');
        var nH = zoomer.data('h');
        var $w = $(window);
        var $b = $('body');
        var wW = $w.width();
        var wH = $w.height();

        var hZoom = (wH * .95) / nH;
        var wZoom = (wW * .95) / nW;

        var zoom = hZoom<wZoom ? hZoom : wZoom;

        var w = nW*zoom;
        var h = nH*zoom;
        var top, left;

        left = (wW-w)/2;
        top = $b.scrollTop() + (wH-h)/2;
        zoomer.css({
            "top" : top,
            "left" : left,
            "width" : w,
            "height" : h,
            "position" : 'absolute',
            "outline" : '2px solid black'
        }).find('img').css('zoom',zoom);

        return;
    }

    setTimeout(function(){
        //record how many broken cameras
        ga('set', 'dimension1', $('img[src^="broken"]').length);
        $('#long-description').fadeOut();
    },10000);

    $('img').on('click',function(){
        ga('send', 'event', 'Image', 'Zoom', 'url', $(this).attr('src'), {'nonInteraction': 0});

        var $this = $(this);

        $('#zoomer').remove();

        var img = this;
        if (!img.naturalHeight) {
            return false;
        }

        var zoomer = $('<div id="zoomer"><div id="closer"/></div>')
            .append($('<img>').attr('src',$(this).attr('src')))
            .data('w',this.naturalWidth)
            .data('h',this.naturalHeight);
        repositionZoomer(zoomer);
        zoomer.appendTo('body');
        return false;
    });

    $('body').on('click','#zoomer',function(){
        $('#zoomer').remove();
        return false;
    });

    $('body,html').on('resize scroll',function(){repositionZoomer($('#zoomer'))})
    $(window).on('resize scroll',function(){repositionZoomer($('#zoomer'))})

/**
 * jQuery.Preload
 * Copyright (c) 2008 Ariel Flesler - aflesler(at)gmail(dot)com
 * Dual licensed under MIT and GPL.
 * Date: 3/25/2009
 *
 * @projectDescription Multifunctional preloader
 * @author Ariel Flesler
 * @version 1.0.8
 *
 * @id jQuery.preload
 * @param {String, jQuery, Array< String, <a>, <link>, <img> >} original Collection of sources to preload
 * @param {Object} settings Hash of settings.
 *
 * @id jQuery.fn.preload
 * @param {Object} settings Hash of settings.
 * @return {jQuery} Returns the same jQuery object, for chaining.
 *
 * @example Link Mode:
 *	$.preload( '#images a' );
 *
 * @example Rollover Mode:
 *	$.preload( '#images img', {
 *		find:/\.(gif|jpg)/,
 *		replace:'_over.$1'
 *	});
 *
 * @example Src Mode:
 *	$.preload( [ 'red', 'blue', 'yellow' ], {
 *		base:'images/colors/',
 *		ext:'.jpg'
 *	});
 *
 * @example Placeholder Mode:
 *	$.preload( '#images img', {
 *		placeholder:'placeholder.jpg',
 *		notFound:'notfound.jpg'
 *	});
 *
 * @example Placeholder+Rollover Mode(High res):
 *	$.preload( '#images img', {
 *		placeholder:true,
 *		find:/\.(gif|jpg)/,
 *		replace:'_high.$1'
 *	});
 */
;(function( $ ){

	var $preload = $.preload = function( original, settings ){
		if( original.split ) // selector
			original = $(original);

		settings = $.extend( {}, $preload.defaults, settings );
		var sources = $.map( original, function( source ){
			if( !source ) 
				return; // skip
			if( source.split ) // URL Mode
				return settings.base + source + settings.ext;
			var url = source.src || source.href; // save the original source
			if( typeof settings.placeholder == 'string' && source.src ) // Placeholder Mode, if it's an image, set it.
				$(source).addClass('placeholder');
				source.src = settings.placeholder;
			if( url && settings.find ) // Rollover mode
				url = url.replace( settings.find, settings.replace );
			return url || null; // skip if empty string
		});

		var data = {
			loaded:0, // how many were loaded successfully
			failed:0, // how many urls failed
			next:0, // which one's the next image to load (index)
			done:0, // how many urls were tried
			/*
			index:0, // index of the related image			
			found:false, // whether the last one was successful
			*/
			total:sources.length // how many images are being preloaded overall
		};
		
		if( !data.total ) // nothing to preload
			return finish();
		
		var imgs = $(Array(settings.threshold+1).join('<img/>'))
			.on('load error abort',handler).each(fetch);
		
		function handler( e ){
			data.element = this;
			data.found = e.type == 'load';
			data.image = this.src;
			data.index = this.index;
			var orig = data.original = original[this.index];
			data[data.found?'loaded':'failed']++;
			data.done++;

			// This will ensure that the images aren't "un-cached" after a while
			if( settings.enforceCache )
				$preload.cache.push( 
					$('<img/>').attr('src',data.image)[0]
				);

			if( settings.placeholder && orig.src ) // special case when on placeholder mode
				$(orig).removeClass('placeholder');
				orig.src = data.found ? data.image : settings.notFound || orig.src;
			if( settings.onComplete )
				settings.onComplete( data );
			if( data.done < data.total ) // let's continue
				fetch( 0, this );
			else{ // we are finished
				if( imgs && imgs.unbind )
					imgs.unbind('load').unbind('error').unbind('abort'); // cleanup
				imgs = null;
				finish();
			}
		};
		function fetch( i, img, retry ){
			// IE problem, can't preload more than 15
			if( img.attachEvent /* msie */ && data.next && data.next % $preload.gap == 0 && !retry ){
				setTimeout(function(){ fetch( i, img, true ); }, 0);
				return false;
			}
			if( data.next == data.total ) return false; // no more to fetch
			img.index = data.next; // save it, we'll need it.
			img.src = sources[data.next++];
			if( settings.onRequest ){
				data.index = img.index;
				data.element = img;
				data.image = img.src;
				data.original = original[data.next-1];
				settings.onRequest( data );
			}
		};
		function finish(){
			if( settings.onFinish )
				settings.onFinish( data );
		};
	};

	 // each time we load this amount and it's IE, we must rest for a while, make it lower if you get stack overflow.
	$preload.gap = 14; 
	$preload.cache = [];
	
	$preload.defaults = {
		threshold:2, // how many images to load simultaneously
		base:'', // URL mode: a base url can be specified, it is prepended to all string urls
		ext:'', // URL mode:same as base, but it's appended after the original url.
		replace:'' // Rollover mode: replacement (can be left empty)
		/*
		enforceCache: false, // If true, the plugin will save a copy of the images in $.preload.cache
		find:null, // Rollover mode: a string or regex for the replacement
		notFound:'' // Placeholder Mode: Optional url of an image to use when the original wasn't found
		placeholder:'', // Placeholder Mode: url of an image to set while loading
		onRequest:function( data ){ ... }, // callback called every time a new url is requested
		onComplete:function( data ){ ... }, // callback called every time a response is received(successful or not)
		onFinish:function( data ){ ... } // callback called after all the images were loaded(or failed)
		*/
	};

	$.fn.preload = function( settings ){
		$preload( this, settings );
		return this;
	};

})( jQuery );

$.preload('img',{
  placeholder:'camera.jpg',
  notFound:'broken.png'
});

</script>

</html>

